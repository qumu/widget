var ce,c,Ge,F,Ee,Ze,Ke,Je,ye,he,de,Q={},Qe=[],yt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X=Array.isArray;function U(t,e){for(var n in e)t[n]=e[n];return t}function me(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function q(t,e,n){var o,r,i,_={};for(i in e)i=="key"?o=e[i]:i=="ref"?r=e[i]:_[i]=e[i];if(arguments.length>2&&(_.children=arguments.length>3?ce.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)_[i]===void 0&&(_[i]=t.defaultProps[i]);return le(t,_,o,r,null)}function le(t,e,n,o,r){var i={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++Ge,__i:-1,__u:0};return r==null&&c.vnode!=null&&c.vnode(i),i}function G(t){return t.children}function R(t,e){this.props=t,this.context=e}function Z(t,e){if(e==null)return t.__?Z(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Z(t):null}function Xe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Xe(t)}}function Ce(t){(!t.__d&&(t.__d=!0)&&F.push(t)&&!ae.__r++||Ee!=c.debounceRendering)&&((Ee=c.debounceRendering)||Ze)(ae)}function ae(){for(var t,e,n,o,r,i,_,a=1;F.length;)F.length>a&&F.sort(Ke),t=F.shift(),a=F.length,t.__d&&(n=void 0,o=void 0,r=(o=(e=t).__v).__e,i=[],_=[],e.__P&&((n=U({},o)).__v=o.__v+1,c.vnode&&c.vnode(n),we(e.__P,n,o,e.__n,e.__P.namespaceURI,32&o.__u?[r]:null,i,r??Z(o),!!(32&o.__u),_),n.__v=o.__v,n.__.__k[n.__i]=n,tt(i,n,_),o.__e=o.__=null,n.__e!=r&&Xe(n)));ae.__r=0}function Oe(t,e,n,o,r,i,_,a,s,u,f){var l,S,d,T,V,B,C,N=o&&o.__k||Qe,D=e.length;for(s=(function(O,z,H,Y,M){var P,m,v,h,L,$=H.length,K=$,b=0;for(O.__k=new Array(M),P=0;P<M;P++)(m=z[P])!=null&&typeof m!="boolean"&&typeof m!="function"?(h=P+b,(m=O.__k[P]=typeof m=="string"||typeof m=="number"||typeof m=="bigint"||m.constructor==String?le(null,m,null,null,null):X(m)?le(G,{children:m},null,null,null):m.constructor==null&&m.__b>0?le(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m).__=O,m.__b=O.__b+1,v=null,(L=m.__i=wt(m,H,h,K))!=-1&&(K--,(v=H[L])&&(v.__u|=2)),v==null||v.__v==null?(L==-1&&(M>$?b--:M<$&&b++),typeof m.type!="function"&&(m.__u|=4)):L!=h&&(L==h-1?b--:L==h+1?b++:(L>h?b--:b++,m.__u|=4))):O.__k[P]=null;if(K)for(P=0;P<$;P++)(v=H[P])!=null&&!(2&v.__u)&&(v.__e==Y&&(Y=Z(v)),ot(v,v));return Y})(n,e,N,s,D),l=0;l<D;l++)(d=n.__k[l])!=null&&(S=d.__i==-1?Q:N[d.__i]||Q,d.__i=l,B=we(t,d,S,r,i,_,a,s,u,f),T=d.__e,d.ref&&S.ref!=d.ref&&(S.ref&&be(S.ref,null,d),f.push(d.ref,d.__c||T,d)),V==null&&T!=null&&(V=T),(C=!!(4&d.__u))||S.__k===d.__k?s=et(d,s,t,C):typeof d.type=="function"&&B!==void 0?s=B:T&&(s=T.nextSibling),d.__u&=-7);return n.__e=V,s}function et(t,e,n,o){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=et(r[i],e,n,o));return e}t.__e!=e&&(o&&(e&&t.type&&!e.parentNode&&(e=Z(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function se(t,e){return e=e||[],t==null||typeof t=="boolean"||(X(t)?t.some(function(n){se(n,e)}):e.push(t)),e}function wt(t,e,n,o){var r,i,_,a=t.key,s=t.type,u=e[n],f=u!=null&&!(2&u.__u);if(u===null&&t.key==null||f&&a==u.key&&s==u.type)return n;if(o>(f?1:0)){for(r=n-1,i=n+1;r>=0||i<e.length;)if((u=e[_=r>=0?r--:i++])!=null&&!(2&u.__u)&&a==u.key&&s==u.type)return _}return-1}function Le(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||yt.test(e)?n:n+"px"}function re(t,e,n,o,r){var i,_;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||Le(t.style,e,"");if(n)for(e in n)o&&n[e]==o[e]||Le(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(Je,"$1")),_=e.toLowerCase(),e=_ in t||e=="onFocusOut"||e=="onFocusIn"?_.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?o?n.u=o.u:(n.u=ye,t.addEventListener(e,i?de:he,i)):t.removeEventListener(e,i?de:he,i);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Se(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=ye++;else if(e.t<n.u)return;return n(c.event?c.event(e):e)}}}function we(t,e,n,o,r,i,_,a,s,u){var f,l,S,d,T,V,B,C,N,D,O,z,H,Y,M,P,m,v=e.type;if(e.constructor!=null)return null;128&n.__u&&(s=!!(32&n.__u),i=[a=e.__e=n.__e]),(f=c.__b)&&f(e);e:if(typeof v=="function")try{if(C=e.props,N="prototype"in v&&v.prototype.render,D=(f=v.contextType)&&o[f.__c],O=f?D?D.props.value:f.__:o,n.__c?B=(l=e.__c=n.__c).__=l.__E:(N?e.__c=l=new v(C,O):(e.__c=l=new R(C,O),l.constructor=v,l.render=bt),D&&D.sub(l),l.props=C,l.state||(l.state={}),l.context=O,l.__n=o,S=l.__d=!0,l.__h=[],l._sb=[]),N&&l.__s==null&&(l.__s=l.state),N&&v.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=U({},l.__s)),U(l.__s,v.getDerivedStateFromProps(C,l.__s))),d=l.props,T=l.state,l.__v=e,S)N&&v.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),N&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(N&&v.getDerivedStateFromProps==null&&C!==d&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(C,O),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(C,l.__s,O)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(l.props=C,l.state=l.__s,l.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(h){h&&(h.__=e)}),z=0;z<l._sb.length;z++)l.__h.push(l._sb[z]);l._sb=[],l.__h.length&&_.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(C,l.__s,O),N&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(d,T,V)})}if(l.context=O,l.props=C,l.__P=t,l.__e=!1,H=c.__r,Y=0,N){for(l.state=l.__s,l.__d=!1,H&&H(e),f=l.render(l.props,l.state,l.context),M=0;M<l._sb.length;M++)l.__h.push(l._sb[M]);l._sb=[]}else do l.__d=!1,H&&H(e),f=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++Y<25);l.state=l.__s,l.getChildContext!=null&&(o=U(U({},o),l.getChildContext())),N&&!S&&l.getSnapshotBeforeUpdate!=null&&(V=l.getSnapshotBeforeUpdate(d,T)),P=f,f!=null&&f.type===G&&f.key==null&&(P=nt(f.props.children)),a=Oe(t,X(P)?P:[P],e,n,o,r,i,_,a,s,u),l.base=e.__e,e.__u&=-161,l.__h.length&&_.push(l),B&&(l.__E=l.__=null)}catch(h){if(e.__v=null,s||i!=null)if(h.then){for(e.__u|=s?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,e.__e=a}else{for(m=i.length;m--;)me(i[m]);ve(e)}else e.__e=n.__e,e.__k=n.__k,h.then||ve(e);c.__e(h,e,n)}else i==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=(function(h,L,$,K,b,E,vt,j,gt){var p,J,te,ne,k,W,oe,x=$.props,I=L.props,A=L.type;if(A=="svg"?b="http://www.w3.org/2000/svg":A=="math"?b="http://www.w3.org/1998/Math/MathML":b||(b="http://www.w3.org/1999/xhtml"),E!=null){for(p=0;p<E.length;p++)if((k=E[p])&&"setAttribute"in k==!!A&&(A?k.localName==A:k.nodeType==3)){h=k,E[p]=null;break}}if(h==null){if(A==null)return document.createTextNode(I);h=document.createElementNS(b,A,I.is&&I),j&&(c.__m&&c.__m(L,E),j=!1),E=null}if(A==null)x===I||j&&h.data==I||(h.data=I);else{if(E=E&&ce.call(h.childNodes),x=$.props||Q,!j&&E!=null)for(x={},p=0;p<h.attributes.length;p++)x[(k=h.attributes[p]).name]=k.value;for(p in x)if(k=x[p],p!="children"){if(p=="dangerouslySetInnerHTML")te=k;else if(!(p in I)){if(p=="value"&&"defaultValue"in I||p=="checked"&&"defaultChecked"in I)continue;re(h,p,null,k,b)}}for(p in I)k=I[p],p=="children"?ne=k:p=="dangerouslySetInnerHTML"?J=k:p=="value"?W=k:p=="checked"?oe=k:j&&typeof k!="function"||x[p]===k||re(h,p,k,x[p],b);if(J)j||te&&(J.__html==te.__html||J.__html==h.innerHTML)||(h.innerHTML=J.__html),L.__k=[];else if(te&&(h.innerHTML=""),Oe(L.type=="template"?h.content:h,X(ne)?ne:[ne],L,$,K,A=="foreignObject"?"http://www.w3.org/1999/xhtml":b,E,vt,E?E[0]:$.__k&&Z($,0),j,gt),E!=null)for(p=E.length;p--;)me(E[p]);j||(p="value",A=="progress"&&W==null?h.removeAttribute("value"):W!=null&&(W!==h[p]||A=="progress"&&!W||A=="option"&&W!=x[p])&&re(h,p,W,x[p],b),p="checked",oe!=null&&oe!=h[p]&&re(h,p,oe,x[p],b))}return h})(n.__e,e,n,o,r,i,_,s,u);return(f=c.diffed)&&f(e),128&e.__u?void 0:a}function ve(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ve)}function tt(t,e,n){for(var o=0;o<n.length;o++)be(n[o],n[++o],n[++o]);c.__c&&c.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(i){i.call(r)})}catch(i){c.__e(i,r.__v)}})}function nt(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:X(t)?t.map(nt):U({},t)}function be(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){c.__e(r,n)}}function ot(t,e,n){var o,r;if(c.unmount&&c.unmount(t),(o=t.ref)&&(o.current&&o.current!=t.__e||be(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){c.__e(i,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&ot(o[r],e,n||typeof t.type!="function");n||me(t.__e),t.__c=t.__=t.__e=void 0}function bt(t,e,n){return this.constructor(t,n)}function Ne(t,e,n){var o,r,i;e==document&&(e=document.documentElement),c.__&&c.__(t,e),o=e.__k,r=[],i=[],we(e,t=e.__k=q(G,null,[t]),o||Q,Q,e.namespaceURI,o?null:e.firstChild?ce.call(e.childNodes):null,r,o?o.__e:e.firstChild,!1,i),tt(r,t,i)}ce=Qe.slice,c={__e:function(t,e,n,o){for(var r,i,_;e=e.__;)if((r=e.__c)&&!r.__)try{if((i=r.constructor)&&i.getDerivedStateFromError!=null&&(r.setState(i.getDerivedStateFromError(t)),_=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),_=r.__d),_)return r.__E=r}catch(a){t=a}throw t}},Ge=0,R.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=U({},this.state),typeof t=="function"&&(t=t(U({},n),this.props)),t&&U(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ce(this))},R.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ce(this))},R.prototype.render=G,F=[],Ze=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ke=function(t,e){return t.__v.__b-e.__v.__b},ae.__r=0,Je=/(PointerCapture)$|Capture$/i,ye=0,he=Se(!1),de=Se(!0);var kt=0;function w(t,e,n,o,r,i){e||(e={});var _,a,s=e;if("ref"in s)for(a in s={},e)a=="ref"?_=e[a]:s[a]=e[a];var u={type:t,props:s,key:n,ref:_,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--kt,__i:-1,__u:0,__source:r,__self:i};if(typeof t=="function"&&(_=t.defaultProps))for(a in _)s[a]===void 0&&(s[a]=_[a]);return c.vnode&&c.vnode(u),u}class Pt{async getPresentation(e,n,o="created",r="DESCENDING"){const i=new URL(`/api/2.2/rest/widgets/${e}.json`,`https://${n}`);let _;i.searchParams.set("offset","0"),i.searchParams.set("limit","1"),i.searchParams.set("sortBy",`${o},${r}`),i.searchParams.set("useUserAuth","false");try{_=await fetch(i.toString(),{method:"GET"})}catch(u){throw new Error(`Failed to fetch presentation from host "${n}": ${u.message}`,{cause:u})}const{kulus:a,error:s}=await _.json();if(!_.ok||!a?.length)throw new Error(s?.message??`Failed to fetch presentation with guid "${e}" from host "${n}"`);return a[0]}}const Et=new Set(["selector","host","guid","locales","widgetOptions","playerParameters","sortBy","sortOrder"]),Ct=new Set(["playbackMode","playIcon","onIframeLoad","onThumbnailClick"]),Ot=new Set(["captions","debug","loop","playerConfigurationGuid","pv","quality","showControlPanel","sidebar","speech","speechTerm","start","volume","reporting","reportingId"]);class Lt{createConfiguration(e){const n=this.validateAndSanitize(e),o={playbackMode:"inline",...n.widgetOptions,playIcon:{height:44,position:"center",width:44,...n.widgetOptions?.playIcon}},r={...n.playerParameters};return{...n,host:n.host.replace("https://","").split("/")[0],playerParameters:r,widgetOptions:o}}validateAndSanitize(e){if(!e||typeof e!="object")throw new Error("Configuration must be a valid object");if(["selector","host","guid"].forEach(o=>{if(!Object.hasOwn(e,o))throw new Error(`\`${o}\` is not defined in the configuration`)}),["selector","host","guid","sortBy"].forEach(o=>{const r=e[o];if(Object.hasOwn(e,o)){if(r==null)throw new Error(`\`${o}\` is undefined or null`);if(!(o==="selector"&&r instanceof HTMLElement)){if(typeof r!="string")throw new TypeError(`\`${o}\` must be a string${o==="selector"?" or an instance of HTMLElement":""}`);if(r.trim()==="")throw new Error(`\`${o}\` cannot be an empty string`)}}}),Object.hasOwn(e,"sortOrder")&&!["ASCENDING","DESCENDING"].includes(e.sortOrder))throw new Error('`sortOrder` must be either "ASCENDING" or "DESCENDING"');const n={...e,playerParameters:{...e.playerParameters},widgetOptions:{...e.widgetOptions}};e.widgetOptions?.playIcon&&(n.widgetOptions.playIcon={...e.widgetOptions.playIcon}),Object.keys(n).forEach(o=>{Et.has(o)||(console.warn(`Unsupported field \`${o}\` in configuration`),delete n[o])});try{new URL(`https://${n.host.replace("https://","")}`)}catch{throw new Error("`host` must be a valid domain name")}return this.validatePlayerParameters(n.playerParameters),this.validateWidgetOptions(n.widgetOptions),n}validatePlayerParameters(e){if(e){if(Object.keys(e).forEach(n=>{Ot.has(n)||(console.warn(`Unsupported field \`playerParameters.${n}\` in configuration`),delete e[n])}),e.pv!==void 0&&!["pipls","pipss","sbs"].includes(e.pv))throw new Error('`playerParameters.pv` must be either "pipls", "pipss" or "sbs"');if(e.quality!==void 0&&!["240p","480p","720p","1080p","1440p","auto","best"].includes(e.quality))throw new Error('`playerParameters.quality` must be either "240p", "480p", "720p", "1080p", "1440p", "auto" or "best"')}}validateWidgetOptions(e){if(e){if(Object.keys(e).forEach(n=>{Ct.has(n)||(console.warn(`Unsupported field \`widgetOptions.${n}\` in configuration`),delete e[n])}),e.playbackMode!==void 0){const n=e.playbackMode;if(!["inline","inline-autoload","inline-autoplay","modal"].includes(n))throw new Error('`widgetOptions.playbackMode` must be either "inline", "inline-autoload", "inline-autoplay" or "modal"')}if(e.playIcon!==void 0){if(e.playIcon.position!==void 0&&!["top-left","top","top-right","left","center","right","bottom-left","bottom","bottom-right"].includes(e.playIcon.position))throw new Error("`widgetOptions.playIcon.position` must be a valid position value");[void 0,"inline","modal"].includes(e.playbackMode)||console.warn('`widgetOptions.playIcon` is only applicable when `widgetOptions.playbackMode` is either "modal" or "inline"')}if(e.onIframeLoad!==void 0&&typeof e.onIframeLoad!="function")throw new TypeError("`widgetOptions.onIframeLoad` must be a function");if(e.onThumbnailClick!==void 0)if([void 0,"inline"].includes(e.playbackMode)){if(typeof e.onThumbnailClick!="function")throw new TypeError("`widgetOptions.onThumbnailClick` must be a function")}else console.warn('`widgetOptions.onThumbnailClick` is only applicable when `widgetOptions.playbackMode` is "inline"'),delete e.onThumbnailClick}}}var ee,g,pe,Te,ue=0,rt=[],y=c,Ae=y.__b,xe=y.__r,Ie=y.diffed,He=y.__c,$e=y.unmount,Me=y.__;function ke(t,e){y.__h&&y.__h(g,t,ue||e),ue=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function it(t){return ue=1,(function(e,n,o){var r=ke(ee++,2);if(r.t=e,!r.__c&&(r.__=[Re(void 0,n),function(s){var u=r.__N?r.__N[0]:r.__[0],f=r.t(u,s);u!==f&&(r.__N=[f,r.__[1]],r.__c.setState({}))}],r.__c=g,!g.__f)){var i=function(s,u,f){if(!r.__c.__H)return!0;var l=r.__c.__H.__.filter(function(d){return!!d.__c});if(l.every(function(d){return!d.__N}))return!_||_.call(this,s,u,f);var S=r.__c.props!==s;return l.forEach(function(d){if(d.__N){var T=d.__[0];d.__=d.__N,d.__N=void 0,T!==d.__[0]&&(S=!0)}}),_&&_.call(this,s,u,f)||S};g.__f=!0;var _=g.shouldComponentUpdate,a=g.componentWillUpdate;g.componentWillUpdate=function(s,u,f){if(this.__e){var l=_;_=void 0,i(s,u,f),_=l}a&&a.call(this,s,u,f)},g.shouldComponentUpdate=i}return r.__N||r.__})(Re,t)}function lt(t,e){var n=ke(ee++,3);!y.__s&&at(n.__H,e)&&(n.__=t,n.u=e,g.__H.__h.push(n))}function _t(t){return ue=5,(function(e,n){var o=ke(ee++,7);return at(o.__H,n)&&(o.__=e(),o.__H=n,o.__h=e),o.__})(function(){return{current:t}},[])}function St(){for(var t;t=rt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(_e),t.__H.__h.forEach(ge),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,Ae&&Ae(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Me&&Me(t,e)},y.__r=function(t){xe&&xe(t),ee=0;var e=(g=t.__c).__H;e&&(pe===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(_e),e.__h.forEach(ge),e.__h=[],ee=0)),pe=g},y.diffed=function(t){Ie&&Ie(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(rt.push(e)!==1&&Te===y.requestAnimationFrame||((Te=y.requestAnimationFrame)||Nt)(St)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),pe=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(_e),n.__h=n.__h.filter(function(o){return!o.__||ge(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),He&&He(t,e)},y.unmount=function(t){$e&&$e(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{_e(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Ue=typeof requestAnimationFrame=="function";function Nt(t){var e,n=function(){clearTimeout(o),Ue&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,35);Ue&&(e=requestAnimationFrame(n))}function _e(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ge(t){var e=g;t.__c=t.__(),g=e}function at(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Re(t,e){return typeof e=="function"?e(t):e}function qe(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var o in e)if(o!=="__source"&&t[o]!==e[o])return!0;return!1}function De(t,e){this.props=t,this.context=e}(De.prototype=new R).isPureReactComponent=!0,De.prototype.shouldComponentUpdate=function(t,e){return qe(this.props,t)||qe(this.state,e)};var je=c.__b;c.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),je&&je(t)};var Tt=c.__e;c.__e=function(t,e,n,o){if(t.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}Tt(t,e,n,o)};var We=c.unmount;function st(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(o){typeof o.__c=="function"&&o.__c()}),t.__c.__H=null),(t=(function(o,r){for(var i in r)o[i]=r[i];return o})({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(o){return st(o,e,n)})),t}function ut(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(o){return ut(o,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function fe(){this.__u=0,this.o=null,this.__b=null}function ct(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ie(){this.i=null,this.l=null}c.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),We&&We(t)},(fe.prototype=new R).__c=function(t,e){var n=e.__c,o=this;o.o==null&&(o.o=[]),o.o.push(n);var r=ct(o.__v),i=!1,_=function(){i||(i=!0,n.__R=null,r?r(a):a())};n.__R=_;var a=function(){if(!--o.__u){if(o.state.__a){var s=o.state.__a;o.__v.__k[0]=ut(s,s.__c.__P,s.__c.__O)}var u;for(o.setState({__a:o.__b=null});u=o.o.pop();)u.forceUpdate()}};o.__u++||32&e.__u||o.setState({__a:o.__b=o.__v.__k[0]}),t.then(_,_)},fe.prototype.componentWillUnmount=function(){this.o=[]},fe.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=st(this.__b,n,o.__O=o.__P)}this.__b=null}var r=e.__a&&q(G,null,t.fallback);return r&&(r.__u&=-33),[q(G,null,e.__a?null:t.children),r]};var Fe=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(ie.prototype=new R).__a=function(t){var e=this,n=ct(e.__v),o=e.l.get(t);return o[0]++,function(r){var i=function(){e.props.revealOrder?(o.push(r),Fe(e,t,o)):r()};n?n(i):i()}},ie.prototype.render=function(t){this.i=null,this.l=new Map;var e=se(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},ie.prototype.componentDidUpdate=ie.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){Fe(t,n,e)})};var At=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,xt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,It=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ht=/[A-Z0-9]/g,$t=typeof document<"u",Mt=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};R.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(R.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Ve=c.event;function Ut(){}function Rt(){return this.cancelBubble}function qt(){return this.defaultPrevented}c.event=function(t){return Ve&&(t=Ve(t)),t.persist=Ut,t.isPropagationStopped=Rt,t.isDefaultPrevented=qt,t.nativeEvent=t};var Dt={enumerable:!1,configurable:!0,get:function(){return this.class}},Be=c.vnode;c.vnode=function(t){typeof t.type=="string"&&(function(e){var n=e.props,o=e.type,r={},i=o.indexOf("-")===-1;for(var _ in n){var a=n[_];if(!(_==="value"&&"defaultValue"in n&&a==null||$t&&_==="children"&&o==="noscript"||_==="class"||_==="className")){var s=_.toLowerCase();_==="defaultValue"&&"value"in n&&n.value==null?_="value":_==="download"&&a===!0?a="":s==="translate"&&a==="no"?a=!1:s[0]==="o"&&s[1]==="n"?s==="ondoubleclick"?_="ondblclick":s!=="onchange"||o!=="input"&&o!=="textarea"||Mt(n.type)?s==="onfocus"?_="onfocusin":s==="onblur"?_="onfocusout":It.test(_)&&(_=s):s=_="oninput":i&&xt.test(_)?_=_.replace(Ht,"-$&").toLowerCase():a===null&&(a=void 0),s==="oninput"&&r[_=s]&&(_="oninputCapture"),r[_]=a}}o=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=se(n.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),o=="select"&&r.defaultValue!=null&&(r.value=se(n.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",Dt)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),e.props=r})(t),t.$$typeof=At,Be&&Be(t)};var ze=c.__r;c.__r=function(t){ze&&ze(t),t.__c};var Ye=c.diffed;c.diffed=function(t){Ye&&Ye(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};const jt=t=>q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",width:64,height:64,"aria-hidden":"true",class:"qc-icon",...t},q("path",{d:"M22.643 17.734a1 1 0 000-1.696L12.417 9.647a1 1 0 00-1.53.848v12.783a1 1 0 001.53.848l10.226-6.392zm-9.166 8.088a3 3 0 01-4.59-2.544V10.495a3 3 0 014.59-2.544l10.226 6.391a3 3 0 010 5.088l-10.226 6.392z"})),Wt={fallbackLocale:"en",interpolation:{prefix:"{{",suffix:"}}"},locale:"en",messages:{}},Ft={nplurals:2,plurals:t=>+(t!==1)},Vt={fr:{nplurals:2,plurals:t=>+(t>1)},ja:{nplurals:1,plurals:()=>0}};class Pe{options;constructor(e){this.options={...Wt,...e}}static getValue(e,n){let o,r=e,i=n;for(;r&&typeof r=="object"&&i&&(o=i.indexOf("."))>0;)r=r[i.substring(0,o)],i=i.substring(o+1);return r&&i&&typeof r=="object"?r[i]:""}addMessages(e,n){this.options.messages[e]=n}getLanguage(){return this.options.locale.split("-").shift()}getLocale(){return this.options.locale}setLocale(e){this.options.locale=e}t(e,n={},o){const r=o||this.getLocale(),i=r.split("-").shift(),_=this.getKey(e,n,Vt[i]||Ft),a=this.getTemplate(_,r);return a?this.interpolate(a,n,r):e}getKey(e,n,o){let r=e;if("context"in n&&(r+=`_${n.context}`),"count"in n){const i=o.plurals(Math.abs(Number(n.count)));return o.nplurals===1||i===0||(o.nplurals===2?r+="_plural":r+=`_${i}`),r}return r}getLocaleAndLang(e){return[e,e.split("-").shift()]}getTemplate(e,n){const o=new Set([this.getLocaleAndLang(n),this.getLocaleAndLang(this.options.fallbackLocale)].flat());for(const r of o){const i=this.options.messages[r],_=Pe.getValue(i,e);if(_)return _}return null}interpolate(e,n={},o){const r=new RegExp(`${this.options.interpolation.prefix}(\\w+)${this.options.interpolation.suffix}`,"g");return e.replace(r,(i,_)=>n[_]).replace(/\$t\(([^)]+)\)/g,(i,_)=>this.t(_,n,o))}}const Bt={common:{PLAY_PRESENTATION:"Play Presentation: {{title}}","Presentation not found":"Presentation not found"}};function zt(t){const e=t.closest("[lang]");return e?e.lang:window.navigator.language||"en"}let pt;function ft(){return pt}function ht({presentation:t,onClick:e,widgetOptions:n}){const o=ft(),r=n.playIcon?.position||"center",i=r.includes("left")?"start":r.includes("right")?"end":"center";return w("button",{type:"button",class:"qc-thumbnail",onClick:()=>{n.onThumbnailClick?n.onThumbnailClick(t):e()},style:{"place-items":`${r.includes("top")?"start":r.includes("bottom")?"end":"center"} ${i}`},children:[w("span",{class:"qc-sr-only",children:o.t("common.PLAY_PRESENTATION",{title:t.title})}),w("img",{class:"qc-thumbnail__image",src:t.thumbnail?.cdnUrl||t.thumbnail?.url,alt:""}),n.playIcon?.url?w("img",{alt:"",class:"qc-thumbnail__play-button",src:n.playIcon?.url,style:{width:`${n.playIcon.width}px`,height:`${n.playIcon.height}px`}}):w(jt,{className:"qc-icon qc-thumbnail__play-button qc-thumbnail__play-button--default",width:n.playIcon.width,height:n.playIcon.height})]})}function dt({presentation:t,widgetOptions:e,playerParameters:n}){const[o,r]=it(["inline-autoload","inline-autoplay","modal"].includes(e.playbackMode)),i=_t(null);lt(()=>{if(!o||!i.current)return;const u=i.current,f=()=>{e.onIframeLoad?.(u)};return u.addEventListener("load",f),()=>{u.removeEventListener("load",f)}},[o]);const _=new URL(t.player||""),a=["inline-autoplay","inline","modal"].includes(e.playbackMode);_.searchParams.set("autoplay",a.toString()),Object.entries(n).forEach(([u,f])=>{_.searchParams.set(u,String(f))});const s=w("iframe",{ref:i,src:_.toString(),width:"100%",height:"100%",allow:"autoplay; fullscreen",title:t.title,class:"qc-player"});return o?s:w(ht,{presentation:t,onClick:()=>r(!0),widgetOptions:e})}const Yt=t=>q("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"qc-icon",...t},q("path",{d:"M19.2722 16.1472L28.6472 25.5222C29.0616 25.9366 29.2944 26.4986 29.2944 27.0847C29.2944 27.6708 29.0616 28.2328 28.6472 28.6472C28.2328 29.0616 27.6708 29.2944 27.0847 29.2944C26.4986 29.2944 25.9366 29.0616 25.5222 28.6472L16.1472 19.2722L6.77221 28.6472C6.35781 29.0616 5.79576 29.2944 5.20971 29.2944C4.62366 29.2944 4.06161 29.0616 3.64721 28.6472C3.23281 28.2328 3 27.6708 3 27.0847C3 26.4986 3.23281 25.9366 3.64721 25.5222L13.0222 16.1472L3.64721 6.77221C3.23281 6.35781 3 5.79576 3 5.20971C3 4.62366 3.23281 4.06161 3.64721 3.64721C4.06161 3.23281 4.62366 3 5.20971 3C5.79576 3 6.35781 3.23281 6.77221 3.64721L16.1472 13.0222L25.5222 3.64721C25.9366 3.23281 26.4986 3 27.0847 3C27.6708 3 28.2328 3.23281 28.6472 3.64721C29.0616 4.06161 29.2944 4.62366 29.2944 5.20971C29.2944 5.79576 29.0616 6.35781 28.6472 6.77221L19.2722 16.1472Z"}));function Gt({presentation:t,widgetOptions:e,playerParameters:n,aspectRatio:o}){const[r,i]=it(!1),_=_t(null);lt(()=>{r&&_.current?.showModal()},[r]);const a=()=>{_.current?.close(),i(!1)};return t?w("div",{class:"qc-dialog",children:[w(ht,{onClick:()=>i(!0),presentation:t,widgetOptions:e}),r&&w("dialog",{ref:_,onClick:s=>{s.target===_.current&&a()},onClose:()=>i(!1),style:{"aspect-ratio":o||"16 / 9"},children:[w("button",{type:"button",class:"qc-dialog__close-button",onClick:a,children:w(Yt,{className:"qc-icon"})}),w(dt,{presentation:t,playerParameters:n,widgetOptions:e})]})]}):""}const Zt=t=>q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor","aria-hidden":"true",class:"qc-icon",...t},q("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16h64a8,8,0,0,0,7.59-5.47l14.83-44.48L163,151.43a8.07,8.07,0,0,0,4.46-4.46l14.62-36.55,44.48-14.83A8,8,0,0,0,232,88V56A16,16,0,0,0,216,40ZM112.41,157.47,98.23,200H40V172l52-52,30.42,30.42L117,152.57A8,8,0,0,0,112.41,157.47ZM216,82.23,173.47,96.41a8,8,0,0,0-4.9,4.62l-14.72,36.82L138.58,144l-35.27-35.27a16,16,0,0,0-22.62,0L40,149.37V56H216Zm12.68,33a8,8,0,0,0-7.21-1.1l-23.8,7.94a8,8,0,0,0-4.9,4.61l-14.31,35.77-35.77,14.31a8,8,0,0,0-4.61,4.9l-7.94,23.8A8,8,0,0,0,137.73,216H216a16,16,0,0,0,16-16V121.73A8,8,0,0,0,228.68,115.24ZM216,200H148.83l3.25-9.75,35.51-14.2a8.07,8.07,0,0,0,4.46-4.46l14.2-35.51,9.75-3.25Z"}));function Kt(){const t=ft();return w("div",{class:"qc-not-found",children:[w(Zt,{width:48,height:48}),w("div",{children:t.t("common.Presentation not found")})]})}class mt{configurationService=new Lt;configuration;presentationService=new Pt;presentation=null;container=null;destroyed=!1;static async create(e){const n=new mt(e);return await n.init(),n}constructor(e){this.configuration=this.configurationService.createConfiguration(e)}destroy(){this.destroyed||(this.container&&(Ne(null,this.container),this.container.innerHTML=""),this.presentation=null,this.destroyed=!0)}async init(){try{this.presentation=await this.presentationService.getPresentation(this.configuration.guid,this.configuration.host,this.configuration.sortBy,this.configuration.sortOrder)}catch(e){console.error(e)}finally{this.mount()}}mount(){const e=this.configuration.selector instanceof HTMLElement?this.configuration.selector:document.querySelector(this.configuration.selector);if(!e)throw new Error(`Element for selector "${this.configuration.selector}" not found`);var n,o;n=e,o=this.configuration.locales,pt=new Pe({locale:zt(n),messages:{en:Bt,...o}}),this.container=e,e.innerHTML="";const r=this.presentation?.mediaDisplayWidth&&this.presentation?.mediaDisplayHeight?`${this.presentation.mediaDisplayWidth} / ${this.presentation.mediaDisplayHeight}`:"16 / 9";Ne(w("div",{class:"qc-widget qc-presentation-widget",style:{"aspect-ratio":r},children:this.presentation?this.configuration.widgetOptions?.playbackMode==="modal"?w(Gt,{aspectRatio:r,presentation:this.presentation,playerParameters:this.configuration.playerParameters,widgetOptions:this.configuration.widgetOptions}):w(dt,{presentation:this.presentation,playerParameters:this.configuration.playerParameters,widgetOptions:this.configuration.widgetOptions}):w(Kt,{})}),e)}}const Jt={PLAY_PRESENTATION:"Präsentation spielen: {{title}}","Presentation not found":"Präsentation nicht gefunden"},on={common:Jt},Qt={PLAY_PRESENTATION:"Presentación de la obra: {{title}}","Presentation not found":"Presentación no encontrada"},rn={common:Qt},Xt={PLAY_PRESENTATION:"Jouer la présentation : {{title}}","Presentation not found":"Présentation introuvable"},ln={common:Xt},en={PLAY_PRESENTATION:"Presentazione del gioco: {{title}}","Presentation not found":"Presentazione non trovata"},_n={common:en},tn={PLAY_PRESENTATION:"プレゼンテーションを再生: {{title}}","Presentation not found":"プレゼンテーションが見つかりません"},an={common:tn},nn={PLAY_PRESENTATION:"Apresentação do jogo: {{title}}","Presentation not found":"Apresentação não encontrada"},sn={common:nn},un="1.0.0";export{on as d,rn as e,ln as f,_n as i,an as j,mt as o,sn as p,un as v};
